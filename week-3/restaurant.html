<!--
    ===============================
    Title: vanhessche-restaurant.html
    Author: John Vanhessche
    Date: 26 August 2022
    Description: This is the main html page for the restaurant app
    ===============================
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../theme.css"/>
    <link rel="stylesheet" type="text/css" href="../site.css"/>
    <link rel="stylesheet" type="text/css" href="./restaurant.css"/>     <!--this will need to be changed to the weekly css file-->
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;700&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">  
    <script type="application/javascript" src="../theme.js"></script>     
    <title>WEB 330 - Enterprise JavaScript II</title>
</head>
<body class="light-theme">    
    <div class="assign-container">   <!--start assign container div-->
        <h1 class="app-header">Welcome to the Restaurant App</h1>    <!--app header div-->
        <div class="assign-content">    <!--start assign-content div-->            
            <div class="card">     <!--start main card div-->
                <div class="card-title">Restaurant Menu</div>    <!--card-title div Restaurant menu-->
                    <div class="menu-area">   <!--not in instructions, but created this div (and styling in restaurant.css) for the menu grid-->
                        <div class = "card">    <!--start card div beverages-->
                            <div class="card-title">Beverages</div>    <!--card-title beverages-->
                            <div class = "card-content" id="beverages">    <!--start card-content div beverages-->
                                <label for="soda">
                                    <input type="checkbox" id="soda" name="soda" value="3.30">Soda ($3.30)
                                </label><br/>
                                <label for="tea">
                                    <input type="checkbox" id="tea" name="tea" value="3.30">Sweet Tea ($3.30)
                                </label><br/>
                                <label for="coffee">
                                    <input type="checkbox" id="coffee" name="coffee" value="2.49">Iced Coffee ($2.49)
                                </label><br/>
                                <label for="water">
                                    <input type="checkbox" id="water" name="water" value="2.15">Bottled Water ($2.15)
                                </label><br/>                                       
                            </div>    <!--end card-content div beverages-->                        
                        </div>    <!--end card div beverages-->
                        <div class = "card">
                            <div class="card-title">Appetizers</div>    <!--end card-title beverages-->
                            <div class = "card-content" id="appetizers">
                                <label for="nachos">
                                    <input type="checkbox" id="nachos" name="nachos" value="6.60">Nachos ($6.60)
                                </label><br/>
                                <label for="chips">
                                    <input type="checkbox" id="chips" name="chips" value="5.50">Chips and Salsa ($5.50)
                                </label><br/>
                                <label for="pretzel">
                                    <input type="checkbox" id="pretzel" name="pretzel" value="8.80">Pretzel and Cheese ($8.80)
                                </label><br/>
                                <label for="pickle">
                                    <input type="checkbox" id="pickle" name="pickle" value="8.25">Fried Pickles ($8.25)
                                </label><br/>                                       
                            </div>    <!--end card-content div-->                        
                        </div>    <!--end card appetizers div--> 
                        <div class = "card">
                            <div class="card-title">Main Courses</div>    <!--end card-title beverages-->
                            <div class = "card-content" id="main-courses">
                                <label for="tacos">
                                    <input type="checkbox" id="tacos" name="tacos" value="9.70">Street Tacos ($9.70)
                                </label><br/>
                                <label for="wings">
                                    <input type="checkbox" id="wings" name="wings" value="12.80">Boneless Wings ($12.80)
                                </label><br/>
                                <label for="burger">
                                    <input type="checkbox" id="burger" name="burger" value="12.65">Cheese Burger with Fries ($12.65)
                                </label><br/>
                                <label for="wrap">
                                    <input type="checkbox" id="wrap" name="wrap" value="9.65">Chicken Wrap with Salad ($9.65)
                                </label><br/>                                       
                            </div>    <!--end card-content div-->                        
                        </div>    <!--end card main courses div--> 
                        <div class = "card">
                            <div class="card-title">Desserts</div>    <!--end card-title beverages-->
                            <div class = "card-content" id="desserts">
                                <label for="ice-cream">
                                    <input type="checkbox" id="ice-cream" name="ice-cream" value="4.30">Ice Cream (4.30)
                                </label><br/>
                                <label for="cake">
                                    <input type="checkbox" id="cake" name="cake" value="5.40">Chocolate Cake ($5.40)
                                </label><br/>
                                <label for="pie">
                                    <input type="checkbox" id="pie" name="pie" value="3.80">Apple Pie ($3.80)
                                </label><br/>
                                <label for="cookie">   <!--Didn't know what the last item was since it was covered by the submit button on the instructions.  
                                                        Since cookies are so yummy, I ad-hoc'd a bit here.  Chocolate chip are my faves!-->
                                    <input type="checkbox" id="cookie" name="cookie" value="4.75">Chocolate Chip Cookie ($4.75)
                                </label><br/><br/>
                                <button class="btn btn-primary full-width" id="btnOrder">Place Order</button>                                   
                            </div>    <!--end card-content div-->                        
                        </div>    <!--end card desserts div--> 
                    </div>    <!--end menu area div-->
                    <!--<button class="btn btn-primary full-width" id="btnOrder">Place Order</button> Experimented with the place order button here.  I like this better
                                but ultimately followed the button placement per the instructions.-->
            </div>   <!--end main card-->  
            <br/><a class="return-home" href="../index.html">Return</a>          
        </div>     <!--end assign-content-->
    </div>     <!--end assign-container--> 
    <div class="assign-container">     <!--container wrapper for a card-->        
        <div class="assign-content">      <!--container wrapper for a card-->            
            <div class="card">     <!--card with a card title, card content, and assign-results-text-->
                <div class="card-title">Order Summary</div>    <!--card-title div order summary-->
                <div class="card-content assign-results-text" id="order-total">   <!--start assign results text div-->
                    <div id="assign-results-header"></div>
                    <div id="assign-results" class="assign-results-text"></div>                   
                </div>  <!--end assign results text div-->
            </div>   <!--end card div--> 
        </div>     <!--end assign content div-->
    </div>    <!--end assign container div-->
    <script type="module">    //added type="module". When this is not supplied, the app doesn't work.  I'm guessing this is because of the import statements.  
        setSelectedTheme();

        //import class items from index.js file.  This per Krasso's explanation of how JS doesn't like nested imports.
        import {Bill, Beverage, Appetizer, MainCourse, Dessert} from "./index.js";


        //button click event when user presses place order button
        document.getElementById("btnOrder").onclick = function() 
        {

            //variables to holed the checkbox .checked status.  we first assign an element to the specific div area
            //Then we assign another variable for the inputs in that area, using getElementsByTagName.  
            //It's the second variable, that will be passed to the for/of code block below to check if the checkbox has a 
            //status of checked.  I used different variable names for input than the instructions gave, so that I could follow this
            //through the for/of block.
            const beveragesEl = document.getElementById("beverages");
            const drinks = beveragesEl.getElementsByTagName("input");
            const appetizersEl = document.getElementById("appetizers");
            const starters = appetizersEl.getElementsByTagName("input");
            const mainCoursesEl = document.getElementById("main-courses");
            const mainFood = mainCoursesEl.getElementsByTagName("input");
            const dessertsEl = document.getElementById("desserts");
            const sweets = dessertsEl.getElementsByTagName("input");

            //creating instance of bill class to be used in the for statement block below.  
            //This gives access to the add***** methods in the class.
            let bill = new Bill;

            //a series of for/of blocks to check checkbox status.  each for/of block cycles through all the input variable checkboxes.  
            //if the checkbox is clicked, it calls the appropriate method from the Bill class (addMainCourse, addBeverage, etc). 
            //Then generates a new instance of the appropriate class i.e..(MainCourse from the main-courses.js file).  
            //This passes the name and value attribute from the input tag.  
            //Although it doesn't appear to me that we're using the name attribute anywhere.....
            //.....the class is built with two constructor properties - name, and price, so we supply both.
            for(let mainCourse of mainFood)
            {
                //checking if input checkbox is checked
                if(mainCourse.checked)
                {
                    //call method in bill class, passing a new instance of class with name and value.  
                    //all other if statements are doing same, so will not comment
                    bill.addMainCourse(new MainCourse(mainCourse.name, mainCourse.value));                                        
                }
            }

            for(let beverage of drinks)
            {
                if(beverage.checked)
                {
                    bill.addBeverage(new Beverage(beverage.name, beverage.value));
                }
            }

            for(let appetizer of starters)
            {
                if(appetizer.checked)
                {
                    bill.addAppetizer(new Appetizer(appetizer.name, appetizer.value));
                }
            }

            for(let dessert of sweets)
            {
                if(dessert.checked)
                {
                    bill.addDessert(new Dessert(dessert.name, dessert.value));
                }
            }

            //binding total to order-total.  The getTotal function is called to return the total bill for the item.
            //I included the addition of the $ sign because I like that expression better.  
            document.getElementById("order-total").innerHTML = `Your order total is $${bill.getTotal()}`

        }
        
    </script>
</body>
</html>